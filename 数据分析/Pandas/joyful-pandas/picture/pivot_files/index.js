!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([function(e,t,o){"use strict";(function(t){var r=o(2),n=o(3),i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function s(e){return(e||"").toString().replace(a,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function l(e){var o,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},n={},c=typeof(e=e||r);if("blob:"===e.protocol)n=new h(unescape(e.pathname),{});else if("string"===c)for(o in n=new h(e,{}),f)delete n[o];else if("object"===c){for(o in e)o in f||(n[o]=e[o]);void 0===n.slashes&&(n.slashes=i.test(e.href))}return n}function p(e){e=s(e);var t=c.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function h(e,t,o){if(e=s(e),!(this instanceof h))return new h(e,t,o);var i,c,a,f,d,w,m=u.slice(),y=typeof t,v=this,g=0;for("object"!==y&&"string"!==y&&(o=t,t=null),o&&"function"!=typeof o&&(o=n.parse),t=l(t),i=!(c=p(e||"")).protocol&&!c.slashes,v.slashes=c.slashes||i&&t.slashes,v.protocol=c.protocol||t.protocol||"",e=c.rest,c.slashes||(m[3]=[/(.*)/,"pathname"]);g<m.length;g++)"function"!=typeof(f=m[g])?(a=f[0],w=f[1],a!=a?v[w]=e:"string"==typeof a?~(d=e.indexOf(a))&&("number"==typeof f[2]?(v[w]=e.slice(0,d),e=e.slice(d+f[2])):(v[w]=e.slice(d),e=e.slice(0,d))):(d=a.exec(e))&&(v[w]=d[1],e=e.slice(0,d.index)),v[w]=v[w]||i&&f[3]&&t[w]||"",f[4]&&(v[w]=v[w].toLowerCase())):e=f(e);o&&(v.query=o(v.query)),i&&t.slashes&&"/"!==v.pathname.charAt(0)&&(""!==v.pathname||""!==t.pathname)&&(v.pathname=function(e,t){if(""===e)return t;for(var o=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=o.length,n=o[r-1],i=!1,c=0;r--;)"."===o[r]?o.splice(r,1):".."===o[r]?(o.splice(r,1),c++):c&&(0===r&&(i=!0),o.splice(r,1),c--);return i&&o.unshift(""),"."!==n&&".."!==n||o.push(""),o.join("/")}(v.pathname,t.pathname)),r(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(f=v.auth.split(":"),v.username=f[0]||"",v.password=f[1]||""),v.origin=v.protocol&&v.host&&"file:"!==v.protocol?v.protocol+"//"+v.host:"null",v.href=v.toString()}h.prototype={set:function(e,t,o){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(o||n.parse)(t)),i[e]=t;break;case"port":i[e]=t,r(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!o;break;case"pathname":case"hash":if(t){var c="pathname"===e?"/":"#";i[e]=t.charAt(0)!==c?c+t:t}else i[e]=t;break;default:i[e]=t}for(var a=0;a<u.length;a++){var s=u[a];s[4]&&(i[s[1]]=i[s[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"==typeof e||(e=n.stringify);var t,o=this,r=o.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(o.slashes?"//":"");return o.username&&(i+=o.username,o.password&&(i+=":"+o.password),i+="@"),i+=o.host+o.pathname,(t="object"==typeof o.query?e(o.query):o.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),o.hash&&(i+=o.hash),i}},h.extractProtocol=p,h.location=l,h.trimLeft=s,h.qs=n,e.exports=h}).call(this,o(1))},function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t,o){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,o){"use strict";var r=Object.prototype.hasOwnProperty;function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var o,n,i=[];for(n in"string"!=typeof t&&(t="?"),e)if(r.call(e,n)){if((o=e[n])||null!=o&&!isNaN(o)||(o=""),n=encodeURIComponent(n),o=encodeURIComponent(o),null===n||null===o)continue;i.push(n+"="+o)}return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,o=/([^=?&]+)=?([^&]*)/g,r={};t=o.exec(e);){var i=n(t[1]),c=n(t[2]);null===i||null===c||i in r||(r[i]=c)}return r}},function(e,t,o){"use strict";o.r(t);var r={getACSRFToken:function(){var e=window.getCookie("skey")||window.getCookie("p_skey"),t=5381;if(e){for(var o=0,r=e.length;o<r;++o)t+=(t<<5)+e.charCodeAt(o);return 2147483647&t}},getUin:function(){var e=window.getCookie("uin");return e&&(e=e.replace(/^o(0)*/gi,"")),e}},n=o(0),i=o.n(n);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}var a=function(){try{var e={height:200,width:200},t=r.getUin(),o=r.getACSRFToken(),n=Date.now(),a=new Date,s=window.innerHeight,u=window.innerWidth,f={genTime:"".concat(a.getFullYear(),"-").concat((O=a.getMonth(),O<10?"0".concat(O+1):O+1),"-").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes(),":").concat(a.getSeconds()),ip:window.SHARED_CONFIG&&window.SHARED_CONFIG.ip,isIframe:window.top!==window.self,topPage:function(){if(window.top===window.self)return location.href;try{return window.top.location.href}catch(e){return document.referrer}}(),topStatus:function(){if(window.top===window.self)return JSON.stringify({code:3,href:location.href});try{return JSON.stringify({code:1,location:window.top.location,href:!!window.top.location&&window.top.location.href})}catch(e){return JSON.stringify({code:2,errorInfo:e.message,href:document.referrer})}}(),referrer:document.referrer,selfPage:location.href,height:s,width:u},l=function(e){var r,n=e.cpskey,i=e.eventDescp,a=e.genTime,s=e.processedCookieParams;n&&/[0-9a-fA-F]{32}/.test(n)&&(s.trafficparams_cpskey=n,s.cps_time=a,r={cpskey:n},t&&o&&r.cpskey&&$.ajax({url:"//cloud.tencent.com/act/cps/ajax?uin=".concat(t,"&csrfCode=").concat(o),method:"POST",xhrFields:{withCredentials:!0},data:{action:"createCpsRelation",cpskey:r.cpskey},success:function(){},error:function(e){console.error(e)}}),OPC_COOKIE.cookieProcess.setCookie("cpskey",n)),Object.keys(s).length>0?(OPC_COOKIE.cookieProcess.setTrafficParams(s),window.QC_SENSORS&&window.QC_SENSORS.track("cps_iframe_report",c(f,{cpskey:n})),window.QC_SENSORS&&window.QC_SENSORS.track("cps_cookie_event",c(f,{cookieEventStatus:"success",eventDescp:i,cpskey:n}))):window.QC_SENSORS&&window.QC_SENSORS.track("cps_cookie_event",c(f,{cookieEventStatus:"fail",eventDescp:"fail_set_traffic_cps_cookie",cpskey:n}))},p=window.top===window.self||s>e.height&&u>e.width;if(window.SHARED_CONFIG){var h=window.SHARED_CONFIG,d=h.redirectUrl,w=h.cpskey;return p?l({cpskey:w,eventDescp:"success_first_broadcast_satisfied",genTime:n,processedCookieParams:{}}):window.QC_SENSORS&&window.QC_SENSORS.track("cps_cookie_event",c(f,{cookieEventStatus:"fail_first_broadcast_not_satisfied",cpskey:w})),location.href=d}var m=i()(location.href,!0).query,y=i()(document.referrer,!0).query,v=m.cps_key||m.cpskey||"",g=m.opc_hash_key||"",S=m.gclid||y.gclid,k=m.gclsrc||y.gclsrc,_={};if(!p)return window.QC_SENSORS&&window.QC_SENSORS.track("cps_cookie_event",c(f,{cookieEventStatus:"fail",eventDescp:"fail_second_broadcast_not_satisfied",cpskey:v})),!1;S&&(_.gclid=S),k&&(_.gclsrc=k),g&&(_.opc_hash_key=g,_.opc_time=n),l({cpskey:v,eventDescp:"success_second_broadcast_satisfied",genTime:n,processedCookieParams:_})}catch(e){console.log("trafficParams write error")}var O};function s(){var e=navigator.userAgent;return e.indexOf("Android")>0?"android":e.indexOf("iPhone")>0||e.indexOf("iPad")>0||e.indexOf("iPod")>0?"ios":e.indexOf("SymbianOS")>0||e.indexOf("Windows Phone")>0?"other":"pc"}var u=function(){var e=new Image;return function(t){e.onload=e.onerror=e.onabort=function(){e.onload=e.onerror=e.onabort=null,e=null},e.src=t}},f=function(){try{var e=[1,2,3,10,60,120,300,600],t=0,o=setInterval((function(){(t++,~e.indexOf(t))&&function(e){var t={type:"heartbeat",url:window.location.href,clientDevice:s(),expKey:"heartbeat",expValue:e.heartbeat_time},o=[];for(var r in t)o.push(r+"="+encodeURIComponent(t[r]));var n="//cloud.tencent.com/act/common/report?action=heartbeatReport&t="+Math.random()+"&"+o.join("&");u()(n)}({heartbeat_time:t});t>=e[e.length-1]&&clearInterval(o)}),1e3)}catch(e){console.log(e)}};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(){var e={path:"/",expires:30,domain:function(){var e="cloud.tencent.com";-1!==window.location.href.indexOf("qcloud.com")&&(e="qcloud.com");return e}()};function t(){for(var e={},t=0;t<arguments.length;t++){var o=arguments[t];for(var r in o)e[r]=o[r]}return e}function o(e){var t="";for(var o in e)t+=";"+o,t+="expires"!==o?"="+e[o]:"="+new Date(1*new Date+864e5*parseInt(e[o])).toUTCString();return t}return function(){var r={};function n(e){try{if(void 0===e)throw new Error("cookie的键必传");for(var t="",o=document.cookie?document.cookie.split(";"):[],r=0;r<o.length;r++){var n=(String.prototype.trim?o[r].trim():o[r].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")).split("=");if(e===decodeURIComponent(n[0])){t=n[1];break}}return t}catch(e){console.error(e.message)}}return r.setTrafficParams=function(r,i){try{var c=n("trafficParams");if(void 0===r)throw new Error("trafficParams必须传值");if("object"!==l(r))throw new Error("trafficParams的值必须为对象");var a="";for(var s in r)r.hasOwnProperty(s)&&""!==r[s]&&(a+=s+"="+r[s]+";");var u=function(e,t){for(var o=t.split(";"),r=e.split(";"),n=0;n<r.length;n++){for(var i=-1,c=r[n],a=c.split("=")[0],s=0;s<o.length;s++){o[s].split("=")[0]===a&&(i=s)}-1===i?o.push(c):o.splice(i,1,c)}var u,f,l,p=(o=o.filter((function(e){return""!==e}))).join(";");return"***$;"+(u=p,f=";",(void 0===l||l>u.length)&&(l=u.length),(u.substring(l-f.length,l)===f?p:p+";")+"$***")}(a,c=decodeURIComponent(c).replace(/(^\*{3}\$)|(\$\*{3}$)/gi,""));if(encodeURIComponent(u).length>500)throw new Error("trafficParams的值的字符个数不能超过500");var f=o(i=t(e,i));return document.cookie=encodeURIComponent("trafficParams")+"="+encodeURIComponent(u)+f}catch(e){console.error(e.message||"写入trafficParams失败")}},r.getCookie=n,r.setCookie=function(r,n,i){try{var c=JSON.stringify(n);/^[\{\]]/.test(c)&&(n=c);var a=o(i=t(e,i));return document.cookie=encodeURIComponent(r)+"="+encodeURIComponent(n)+a}catch(e){console.log(e.message||"写入cookie失败")}},r}()};try{var h=window.location.hostname;~["cloud.tencent.com"].indexOf(h)&&(window.OPC_COOKIE={cookieProcess:p()}),a(),f()}catch(e){console.error(e)}}]);